function Task(e){for(var t=Object.keys(tasks.scheme),s=0;s<e.length;s++){var a=t[s];this[a]=e[s]}}function createTask(e){for(var t=[],s=0;s<e.elements.length;s++)t[s]="date"==e.elements[s].type?new Date(e.elements[s].value):e.elements[s].value?e.elements[s].value:!1;var a=new Task(t);tasks.list.push(a),e.reset(),renderTask(a)}function del(e){safePush();for(var t=tasks.list.length-1;t>=0;t--)if(e.childNodes[1].textContent==tasks.list[t].texts){tasks.list.splice(t,1),e.remove(),save();break}}function mv(e){safePush();var t=e.childNodes[1].textContent;e.innerHTML="";var s=document.createElement("input"),a=document.createElement("label");a.innerHTML="'"+t+"'   till",e.appendChild(a),s.type="date",s.classList.add("form-control"),e.appendChild(s);var n=document.createElement("button");n.textContent="move deadline",n.classList.add("btn-default"),n.classList.add("btn"),n.id="save",e.appendChild(n),e.classList.add("form-inline"),n.onclick=function(){for(var e=0;e<tasks.list.length;e++)if(t==tasks.list[e].texts&&""!=s.value){tasks.list[e].deadline=new Date(s.value),save(),renderList(tasks.list),refresh();break}}}function edt(e){safePush();var t=e.parentNode,s=t.childNodes[1].textContent;t.innerHTML="";var a=document.createElement("input");a.value=s,a.setAttribute("class","form-control change-task"),t.appendChild(a);var n=document.createElement("button");n.textContent="save",n.classList.add("btn-default"),n.classList.add("btn"),n.id="save",t.appendChild(n),n.onclick=function(){for(var e=0;e<tasks.list.length;e++)if(s==tasks.list[e].texts&&""!=a.value){tasks.list[e].texts=a.value,save(),renderList(tasks.list),refresh();break}}}function check(e){safePush();for(var t=tasks.list.length-1;t>=0;t--)if(e.childNodes[1].textContent==tasks.list[t].texts){tasks.list[t].done=!tasks.list[t].done,save(),refresh();break}}function safePush(){document.getElementById("save")&&document.getElementById("save").click()}document.onkeyup=function(e){13===e.keyCode&&safePush()};