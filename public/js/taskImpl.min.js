function Task(e){for(var t=Object.keys(tasks.scheme),s=0;s<e.length;s++){var n=t[s];this[n]=e[s]}}function createTask(){for(var e=document.getElementById("frm1"),t=[],s=0;s<e.elements.length;s++)t[s]="date"==e.elements[s].type?new Date(e.elements[s].value):e.elements[s].value?e.elements[s].value:!1;var n=new Task(t);tasks.list.push(n),e.reset(),refresh()}function mv(e){safePush();var t=e.childNodes[2].textContent;e.innerHTML="";var s=document.createElement("input"),n=document.createElement("label");n.innerHTML="'"+t+"'   till",e.appendChild(n),s.type="date",s.classList.add("form-control"),e.appendChild(s);var a=document.createElement("button");a.textContent="move deadline",a.classList.add("btn-default"),a.classList.add("btn"),a.id="save",e.appendChild(a),e.classList.add("form-inline"),a.onclick=function(){for(var e=0;e<tasks.list.length;e++)t==tasks.list[e].texts&&""!=s.value&&(tasks.list[e].deadline=new Date(s.value));refresh()}}function edt(e){safePush();var t=e.parentNode,s=t.childNodes[2].textContent;t.innerHTML="";var n=document.createElement("input");n.value=s,n.setAttribute("class","form-control change-task"),t.appendChild(n);var a=document.createElement("button");a.textContent="save",a.classList.add("btn-default"),a.classList.add("btn"),a.id="save",t.appendChild(a),a.onclick=function(){for(var e=0;e<tasks.list.length;e++)s==tasks.list[e].texts&&""!=n.value&&(tasks.list[e].texts=n.value);refresh()}}function check(e){safePush();for(var t=tasks.list.length-1;t>=0;t--)e.childNodes[2].textContent==tasks.list[t].texts&&(tasks.list[t].done=!tasks.list[t].done,console.log(tasks.list[t].done),console.log(tasks.list[t].texts));refresh()}function del(e){safePush();for(var t=tasks.list.length-1;t>=0;t--)e.childNodes[2].textContent==tasks.list[t].texts&&tasks.list.splice(t,1);refresh()}function safePush(){document.getElementById("save")&&document.getElementById("save").click()}document.onkeyup=function(e){13===e.keyCode&&safePush()};