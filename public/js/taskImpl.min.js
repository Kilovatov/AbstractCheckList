function Task(e,t){this.done=!1,this.texts=e,this.date=new Date,this.expired=!1,this.deadline=t}function del(e){safePush();for(var t=0;t<list.length;t++)e.parentNode.childNodes[2].textContent==list[t].texts&&list.splice(t,1);createList(deadln)}function edt(e){safePush();var t=e.parentNode,n=t.childNodes[2].textContent;t.innerHTML="";var a=document.createElement("input");a.value=n,a.setAttribute("class","form-control change-task"),t.appendChild(a);var s=document.createElement("button");s.textContent="save",s.classList.add("btn-default"),s.classList.add("btn"),s.id="save",t.appendChild(s),s.onclick=function(){for(var e=0;e<list.length;e++)n==list[e].texts&&""!=a.value&&(list[e].texts=a.value);createList(deadln)}}function check(e){safePush();for(var t=list.length-1;t>=0;t--)e.parentNode.childNodes[2].textContent==list[t].texts&&(list[t].done=!list[t].done);createList(deadln)}function checkForExpiredTasks(){for(var e=new Date,t=0;t<list.length;t++){var n=new Date(list[t].date);n.getMinutes()!=e.getMinutes()&&e>n&&!list[t].done&&"today"==list[t].deadline?list[t].expired=!0:(n.setDate(n.getDate()+(7-n.getDay())%7),list[t].expired=n.getDate()!=e.getDate()&&e>n&&!list[t].done&&"week"==list[t].deadline?!0:!1)}}function safePush(){document.getElementById("save")&&document.getElementById("save").click()}var newTask=document.getElementById("new-task"),addTaskBtn=document.getElementById("add-task"),radioChoice=document.getElementsByName("deadline"),deadln;addTaskBtn.onclick=function(e){if(safePush(),e.preventDefault(),e.stopPropagation(),""!==newTask.value){for(var t=0;t<radioChoice.length;t++)if(radioChoice[t].checked){var n=new Task(newTask.value,radioChoice[t].value);list.push(n);for(var a=document.querySelectorAll(".tab__control__item"),s=0;s<a.length;s++)a[s].name==radioChoice[t].value&&activePanel(a[s])}newTask.value=""}},document.onkeyup=function(e){13===e.keyCode&&safePush()};